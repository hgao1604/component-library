{"version":3,"file":"Menu.stories-8afe39b2.js","sources":["../../src/ui/Menu/Menu.tsx","../../src/ui/Menu/MenuItem.tsx","../../src/ui/Menu/SubMenu.tsx"],"sourcesContent":["import { twMerge } from \"tailwind-merge\";\nimport React, { createContext, useState } from \"react\";\nimport { MenuItemProps } from \"./MenuItem\";\ntype MenuMode = \"horizontal\" | \"vertical\";\ntype SelectCallback = (selectedIndex: string) => void;\nexport interface MenuProps {\n  className?: string;\n  /** default active menu item */\n  defaultIndx?: string;\n  /** menu mode */\n  mode?: MenuMode;\n  /** custom style */\n  style?: React.CSSProperties;\n  /** callback when menu item is clicked */\n  onSelect?: SelectCallback;\n  /** default open sub menu */\n  children?: React.ReactNode;\n  /** default open sub menu */\n  defaultOpenSubMenus?: string[];\n}\n\ninterface IMenuContext {\n  index: string;\n  onSelect?: SelectCallback;\n  mode?: MenuMode;\n  defaultOpenSubMenus?: string[];\n}\n\nexport const MenuContext = createContext<IMenuContext>({\n  index: \"0\",\n  mode: \"horizontal\",\n});\n\n/**\n * Menu component with two modes, horizontal and vertical,\n * and callback when menu item is clicked, and default active menu item.\n * You can also use MenuItem and SubMenu component to create a menu.\n * ### How to import\n * ### Usage\n * ```js\n * import {Menu} from \"highcold-ui\";\n * ```\n */\n\nexport const Menu: React.FC<MenuProps> = (props) => {\n  const {\n    className,\n    mode,\n    style,\n    defaultIndx,\n    onSelect,\n    children,\n    defaultOpenSubMenus,\n  } = props;\n  const [currentActive, setActive] = useState(defaultIndx);\n\n  function handleClick(index: string) {\n    setActive(index);\n    if (onSelect) {\n      onSelect(index);\n    }\n  }\n  const passedContext: IMenuContext = {\n    index: currentActive ? currentActive : \"0\",\n    onSelect: handleClick,\n    mode,\n    defaultOpenSubMenus,\n  };\n  // check if children is MenuItem or SubMenu\n  // pass index to children\n  const renderChildren = () => {\n    return React.Children.map(children, (child, index) => {\n      const childElement =\n        child as React.FunctionComponentElement<MenuItemProps>;\n      const { displayName } = childElement.type;\n      if (displayName === \"MenuItem\" || displayName === \"SubMenu\") {\n        return React.cloneElement(childElement, { index: index.toString() });\n      } else {\n        console.error(\n          \"Warning: Menu has a child which is not a MenuItem component\"\n        );\n      }\n    });\n  };\n\n  return (\n    <ul\n      className={twMerge(\n        className,\n        \"flex flex-row flex-wrap items-center justify-center gap-8\",\n        mode === \"vertical\" ? \"max-w-sm flex-col gap-0\" : \"\"\n      )}\n      style={style}\n      data-testid=\"test-menu\"\n    >\n      <MenuContext.Provider value={passedContext}>\n        {renderChildren()}\n      </MenuContext.Provider>\n    </ul>\n  );\n};\n\nMenu.defaultProps = {\n  defaultIndx: \"0\",\n  mode: \"horizontal\",\n};\n\nexport default Menu;\n","import { twMerge } from \"tailwind-merge\";\nimport { MenuContext } from \"./Menu\";\nimport { useContext } from \"react\";\n\nexport interface MenuItemProps {\n  children?: React.ReactNode;\n  className?: string;\n  index?: string;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n}\n\nexport const MenuItem: React.FC<MenuItemProps> = (props) => {\n  const { children, className, disabled, style, index } = props;\n  const context = useContext(MenuContext);\n  const handleClick = () => {\n    if (context.onSelect && !disabled && typeof index === \"string\") {\n      context.onSelect(index);\n    }\n  };\n  return (\n    <li\n      className={twMerge(\n        className,\n        \"hover:underline-primary active:underline-primary block cursor-pointer px-6 py-3 text-center  font-mono font-semibold text-dark transition-all hover:text-primary focus:outline-none\",\n        context.mode !== \"vertical\"\n          ? \"hover:underline hover:underline-offset-8\"\n          : \"\",\n        context.index === index && context.mode !== \"vertical\"\n          ? \"underline-primary text-primary underline underline-offset-8\"\n          : \"\",\n        context.mode === \"vertical\"\n          ? \"underline-none hover:underline-none w-full rounded-sm bg-transparent hover:bg-slate-100\"\n          : \"\",\n        context.mode === \"vertical\" && context.index === index\n          ? \"bg-slate-100 text-primary\"\n          : \"\",\n        disabled ? \"pointer-events-none cursor-not-allowed opacity-70\" : \"\"\n      )}\n      style={style}\n      aria-disabled={disabled}\n      onClick={handleClick}\n    >\n      {children}\n    </li>\n  );\n};\nMenuItem.displayName = \"MenuItem\";\nexport default MenuItem;\n","import React, { useContext, useState } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\nimport { MenuContext } from \"./Menu\";\nimport { MenuItemProps } from \"./MenuItem\";\nimport Icon from \"../Icon/Icon\";\n\nexport interface SubMenuProps {\n  className?: string;\n  index?: string;\n  title: string;\n  children?: React.ReactNode;\n}\n\nexport const SubMenu: React.FC<SubMenuProps> = (props) => {\n  const context = useContext(MenuContext);\n  const { className, index, title, children } = props;\n  const [menuOpen, setMenuOpen] = useState(\n    index === undefined ? false : context.defaultOpenSubMenus?.includes(index)\n  );\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setMenuOpen(!menuOpen);\n  };\n  const renderChildren = () => {\n    const childrenComponent = React.Children.map(children, (child, i) => {\n      const childElement =\n        child as React.FunctionComponentElement<MenuItemProps>;\n      const { displayName } = childElement.type;\n      if (displayName === \"MenuItem\") {\n        return React.cloneElement(childElement, {\n          index: `${index}-${i}`,\n        });\n        //return childElement;\n      } else {\n        console.error(\n          \"Warning: Menu has a child which is not a MenuItem component\"\n        );\n      }\n    });\n    return (\n      <ul\n        className={twMerge(\n          \" flex  origin-top transform flex-col items-center justify-center rounded-sm border bg-white transition duration-300 ease-in-out\",\n          context.mode !== \"vertical\"\n            ? \"absolute mt-2 scale-0 group-hover:scale-100\"\n            : \"\",\n          context.mode === \"vertical\" && !menuOpen ? \"hidden \" : \"\",\n          context.mode === \"vertical\" && menuOpen ? \"group:block\" : \"\"\n        )}\n      >\n        {childrenComponent}\n      </ul>\n    );\n  };\n\n  return (\n    <li\n      className={twMerge(\n        className,\n        \"hover:underline-primary active:underline-primary  cursor-pointer flex-col  items-center font-mono font-semibold text-dark transition-all hover:text-primary focus:outline-none\",\n        context.mode !== \"vertical\"\n          ? \"hover:underline hover:underline-offset-8\"\n          : \"\",\n        context.index === index && context.mode !== \"vertical\"\n          ? \"underline-primary text-primary underline underline-offset-8\"\n          : \"\",\n        context.mode === \"vertical\"\n          ? \"underline-none hover:underline-none rounded-sm bg-transparent hover:bg-slate-100\"\n          : \"\",\n        context.mode === \"vertical\" && context.index === index\n          ? \"bg-slate-100 text-primary\"\n          : \"\"\n      )}\n      key={index}\n    >\n      <div className=\"group\">\n        <div\n          className={twMerge(\n            \"flex items-center gap-2\",\n            context.mode === \"vertical\" ? \"px-6 py-3\" : \"\"\n          )}\n          onClick={handleClick}\n        >\n          {title}\n          <Icon\n            icon=\"arrow-down\"\n            size=\"sm\"\n            className={twMerge(\n              \"transform transition-all duration-200 ease-in-out\",\n              context.mode === \"vertical\" && menuOpen ? \"rotate-180\" : \"\",\n              context.mode !== \"vertical\" ? \"group-hover:rotate-180\" : \"\"\n            )}\n          ></Icon>\n        </div>\n        {renderChildren()}\n      </div>\n    </li>\n  );\n};\n\nSubMenu.displayName = \"SubMenu\";\nexport default SubMenu;\n"],"names":["MenuContext","createContext","Menu","props","className","mode","style","defaultIndx","onSelect","children","defaultOpenSubMenus","currentActive","setActive","useState","handleClick","index","passedContext","renderChildren","React","child","childElement","displayName","jsx","twMerge","MenuItem","disabled","context","useContext","SubMenu","title","menuOpen","setMenuOpen","_a","e","childrenComponent","i","jsxs","Icon"],"mappings":"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"}